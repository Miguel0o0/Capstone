{% extends "base.html" %}

{% block title %}Subir comprobante{% endblock %}

{% block content %}
<div class="card" style="max-width: 520px; margin: 2rem auto;">
  <h1>Subir comprobante de pago</h1>

  <p style="color:#6b7280; font-size:.9rem; margin-bottom:1rem;">
    Reserva: {{ object.reservation.resource.nombre }}
    ({{ object.reservation.start_at|date:"d/m/Y H:i" }}) — 
    Monto: ${{ object.amount }} — Estado: {{ object.get_status_display }}
  </p>

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    {{ form.non_field_errors }}

    <div style="margin-bottom:1rem;">
      <label for="{{ form.receipt_file.id_for_label }}" style="display:block; font-weight:600; margin-bottom:.25rem;">
        Comprobante de transferencia
      </label>
      {{ form.receipt_file }}
      {% if form.receipt_file.errors %}
        <div style="color:#b91c1c; font-size:.85rem; margin-top:.25rem;">
          {{ form.receipt_file.errors }}
        </div>
      {% endif %}
      {% if form.receipt_file.help_text %}
        <p style="color:#6b7280; font-size:.8rem; margin-top:.25rem;">
          {{ form.receipt_file.help_text }}
        </p>
      {% endif %}
    </div>

    <div style="margin-bottom:1rem;">
      <label for="{{ form.note.id_for_label }}" style="display:block; font-weight:600; margin-bottom:.25rem;">
        Nota (opcional)
      </label>
      {{ form.note }}
      {% if form.note.errors %}
        <div style="color:#b91c1c; font-size:.85rem; margin-top:.25rem;">
          {{ form.note.errors }}
        </div>
      {% endif %}
    </div>

    <div style="display:flex; gap:.5rem; margin-top:1rem;">
      <button type="submit" class="btn btn-primary">
        Subir comprobante
      </button>
      <a href="{% url 'core:my_payments' %}" class="btn btn-outline">
        Cancelar
      </a>
    </div>
  </form>
</div>
{% endblock %}
